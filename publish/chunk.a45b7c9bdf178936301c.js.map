{"version":3,"sources":["webpack:///./node_modules/@ecomplus/storefront-router/src/methods/map.js","webpack:///./node_modules/@ecomplus/storefront-router/src/methods/resolve.js","webpack:///./node_modules/@ecomplus/storefront-router/src/methods/list.js","webpack:///./node_modules/@ecomplus/storefront-router/src/methods/setup-store.js","webpack:///./node_modules/@ecomplus/storefront-router/src/index.js","webpack:///./template/js/custom-js/html/TheProduct.html","webpack:///./node_modules/@ecomplus/storefront-template/template/js/lib/fallback-404.js"],"names":["map","self","path","location","pathname","slug","slice","url","storeId","replace","storefront","then","response","val","data","GET","resource","resourceId","split","_id","err","Error","resolve","route","Promise","reject","store","body","catch","promises","routes","forEach","push","result","Array","isArray","name","sku","find","all","setupStore","domain","updateConfig","hostname","platform","prop","_config","set","lang","default_lang","toUpperCase","store_id","window","this","$ecomConfig","get","arguments","list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","hasLoadError","_v","_s","i19loadProductErrorMsg","on","$event","preventDefault","fetchProduct","i19retry","_t","isSSR","tag","currentGalleyImg","_e","headingTag","_m","available","isInStock","Object","assign","selectedVariation","price","fixedPrice","discount","i19discountOf","selectedVariationId","hasClickedBuy","i19selectVariationMsg","_l","custom","key","class","grid_id","label","formatAdditionalPrice","add_to_price","ev","setCustomizationOption","target","value","kitItems","min_quantity","quantity","scopedSlots","_u","fn","proxy","length","buy","isOnCart","strBuy","i19only","productQuantity","i19unitsInStock","production_time","days","i19productionDeadline","working_days","i19workingDays","i19days","i19perUnit","isQuickview","product_id","ref","amountSubtotal","freeFromValue","i19freeShippingFrom","Math","ceil","i19units","i19outOfStock","i19unavailable","short_description","staticRenderFns","$fallback404","$","URLSearchParams","search","router","EcomRouter","html","renderNotFound","i18n","pt_br","en_us","append","console","error","Vue","h","TheProduct","props","productId","SearchEngine","vueInstance","$mount"],"mappings":"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","file":"chunk.a45b7c9bdf178936301c.js","sourcesContent":["import { storefront } from '@ecomplus/client'\n\nconst map = (self, [path]) => {\n  if (!path) {\n    // get pathname from current location interface\n    path = self.location.pathname\n  }\n  // map page resource and object based on slug\n  const slug = typeof path === 'string' ? path.slice(1) : null\n  // replace / with $ on slug to escape URL\n  const url = '/' + self.storeId + '@' + slug.replace(/\\//g, '$') + '.json'\n\n  // send request to E-Com Plus Storefront API\n  return storefront({ url }).then(response => {\n    // { \"GET\": \"[resource]@[id]\" }\n    const val = response.data.GET\n    if (val) {\n      const [resource, resourceId] = val.split('@')\n      if (resourceId) {\n        // returns object with resource info on promise chain\n        return {\n          path,\n          resource,\n          _id: resourceId\n        }\n      }\n    }\n\n    // throw error to handle promise catch\n    const err = new Error('Resource not found, invalid slug or store ID')\n    // simulate axios error object\n    err.response = response\n    throw err\n  })\n}\n\n/**\n * @typedef {object} route\n * @property {string} path - Route URL pathname\n * @property {string} resource - Route resource type from\n * [E-Com Plus Store API]{@link https://developers.e-com.plus/docs/api/#/store/}\n * @property {string} _id - Route document Object ID from\n * [E-Com Plus Store API]{@link https://developers.e-com.plus/docs/api/#/store/}\n * @property {string} [name] - Route document name (not set on products)\n */\n\n/**\n * @method\n * @name EcomRouter#map\n * @description Get page resource and object ID based on URL pathname.\n *\n * @param {string} [path=location.pathname] - URL pathname\n * @returns {Promise<route|error>}\n *\n * @example\n\n// Mapping resource and object ID from current location pathname\nrouter.map()\n  .then(route => {\n    console.log(route.path)\n    console.log(route.resource)\n    console.log(route._id)\n  })\n  .catch(error => {\n    console.error(error)\n    if (error.response) {\n      console.log(error.response)\n    }\n  })\n\n * @example\n\n// Specifying some URL pathname\nrouter.map('/monitores')\n  .then(route => console.log(route))\n  .catch(error => console.error(error))\n\n */\n\nexport default map\n","import { store } from '@ecomplus/client'\n\nconst resolve = (self, [route]) => new Promise((resolve, reject) => {\n  // handle new route\n  const { storeId } = self\n  const { resource, _id } = route\n\n  if (resource && _id) {\n    // get current page object from Store API\n    store({ url: `/${resource}/${_id}.json`, storeId })\n      .then(({ data }) => {\n        // save object body on context\n        resolve({ resource, body: data })\n      })\n      .catch(reject)\n  } else {\n    // skip request and just reject with new error\n    const err = new Error('Invalid route resource or object ID')\n    err.response = {}\n    reject(err)\n  }\n})\n\n/**\n * @typedef {object} context\n * @property {string} resource - Context resource type from\n * [E-Com Plus Store API]{@link https://developers.e-com.plus/docs/api/#/store/}\n * @property {object} body - Context\n * [Store API]{@link https://developers.e-com.plus/docs/api/#/store/}\n * document body for respective route\n */\n\n/**\n * @method\n * @name EcomRouter#resolve\n * @description Get [Store API]{@link https://developers.e-com.plus/docs/api/#/store/}\n * document body based on route resource and Object ID.\n * <br><br>\n * <b>Tip</b>: Although resolve can be used standalone,\n * you may want to use [map]{@link EcomRouter#map} method first.\n *\n * @param {route} route - Route object to get respective document body\n * @returns {Promise<context|error>}\n *\n * @example\n\n// Get document body for current URL pathname\nrouter.map()\n  .then(route => {\n    router.resolve(route)\n      .then(context => {\n        console.log(context)\n        console.log(context.resource)\n        console.log(context.body)\n        console.log(context.body._id)\n        console.log(context.body.name)\n      })\n      .catch(error => { throw error })\n  })\n  .catch(error => {\n    console.error(error)\n    if (error.response) {\n      console.log(error.response)\n    }\n  })\n\n */\n\nexport default resolve\n","import { store } from '@ecomplus/client'\n\nexport default self => new Promise((resolve, reject) => {\n  const { storeId } = self\n  // list slugs for each resource\n  const promises = []\n  const routes = []\n\n  ;[\n    'products',\n    'categories',\n    'collections',\n    'brands'\n  ].forEach(resource => {\n    promises.push(\n      store({ url: `/${resource}.json`, storeId }).then(response => {\n        const { result } = response.data\n        if (Array.isArray(result)) {\n          result.forEach(({ _id, slug, name, sku }) => {\n            if (slug) {\n              // check it this path is not already in use\n              const path = '/' + slug\n              if (!routes.find(route => route.path === path)) {\n                // add new route object\n                routes.push({ resource, _id, path, name, sku })\n              }\n            }\n          })\n        }\n      })\n    )\n  })\n\n  // resolve when all promises are done\n  Promise.all(promises)\n    .then(() => resolve(routes))\n    .catch(reject)\n})\n\n/**\n * @method\n * @name EcomRouter#list\n * @description List all storefront routes for product, categories, brands and collections.\n *\n * @returns {Promise<route[]|error>}\n *\n * @example\n\n// Listing all routes, then resolving to get each document body\nrouter.list()\n  .then(routes => {\n    routes.forEach(route => {\n      console.log(route.path)\n      console.log(route.resource)\n      console.log(route._id)\n      if (route.name) {\n        console.log('Not a product', route.name)\n      }\n      router.resolve(route)\n        .then(context => {\n          console.log(context.body)\n        })\n        .catch(error => { throw error })\n    })\n  })\n  .catch(error => {\n    console.error(error)\n    if (error.response) {\n      console.log(error.response)\n    }\n  })\n\n */\n","import { _config } from '@ecomplus/utils'\nimport { platform } from '@ecomplus/client'\n\nconst setupStore = (self, [domain, updateConfig = true]) => {\n  if (!domain) {\n    // get domain from current location interface\n    domain = self.location.hostname\n  }\n  const url = '/domains/' + domain + '.json'\n\n  // send request to E-Com Plus Platform API\n  return platform({ url }).then(({ data }) => {\n    if (updateConfig) {\n      // set Store IDs on config\n      ;['store_id', 'store_object_id', 'channel_id'].forEach(prop => _config.set(prop, data[prop]))\n\n      // check for default sales channel language\n      const lang = data.default_lang\n      if (lang) {\n        // set default lang and country codes\n        _config.set('lang', lang)\n        _config.set('country_code', lang.replace(/^[a-z]{2}_/, '').toUpperCase())\n        if (lang === 'pt_br') {\n          // also change default currency\n          _config.set('currency', 'BRL')\n          _config.set('currency_symbol', 'R$')\n        }\n      }\n    }\n\n    // update instance Store ID\n    self.storeId = data.store_id\n    // returns channel info object on promise chain\n    return data\n  })\n}\n\n/**\n * @typedef {object} channel\n * @property {number} store_id - Sales channel Store ID\n * @property {string} store_object_id - Sales channel Store Object ID\n * @property {number} channel_id - Sales channel ID number\n * @property {string} [default_lang] - Sales channel default language code\n */\n\n/**\n * @method\n * @name EcomRouter#setupStore\n * @description Get Store IDs and default lang (and set on `_config`) based on domain name.\n *\n * @param {string} [domain=location.hostname] - Sales channel domain name\n * @param {boolean} [updateConfig=true] - Update global configs from `ecomUtils._config`\n * @returns {Promise<channel|error>}\n *\n * @example\n\n// Using current location URL\nrouter.setupStore()\n  .then(channel => {\n    console.log(channel.store_id)\n    console.log(channel.store_object_id)\n    console.log(channel)\n  })\n  .catch(error => {\n    console.error(error)\n    if (error.response) {\n      console.log(error.response)\n    }\n  })\n\n * @example\n\n// Specifying domain name and disabling `ecomUtils._config` update\nrouter.setupStore('shop-plus.e-com.plus', false)\n  .then(channel => console.log(channel))\n  .catch(error => console.error(error))\n\n */\n\nexport default setupStore\n","/**\n * Universal JS router for E-Com Plus storefront.\n * {@link https://github.com/ecomclub/storefront-router GitHub}\n *\n * @module @ecomplus/storefront-router\n * @author E-Com Club <ti@e-com.club>\n * @return {@link EcomRouter}\n * @see EcomRouter\n *\n * @example\n * // ES import default\n * import EcomRouter from '@ecomplus/storefront-router'\n *\n * @example\n * // With CommonJS\n * const EcomRouter = require('@ecomplus/storefront-router')\n *\n * @example\n * <!-- Global `EcomRouter` from CDN on browser -->\n * <script src=\"https://cdn.jsdelivr.net/npm/@ecomplus/storefront-router/dist/ecom-router.var.min.js\"></script>\n *\n * @example\n * <!-- Bundle from CDN with `ecomUtils` and `ecomClient` -->\n * <script\n *   src=\"https://cdn.jsdelivr.net/npm/@ecomplus/storefront-router/dist/ecom-router.bundle.min.js\"\n * ></script>\n */\n\nimport { $ecomConfig } from '@ecomplus/utils'\nimport map from './methods/map'\nimport resolve from './methods/resolve'\nimport list from './methods/list'\nimport setupStore from './methods/setup-store'\n\nexport default function (storeId, location = typeof window === 'object' && window.location) {\n  const self = this\n\n  /**\n   * Respective Store ID number\n   * @name EcomRouter#storeId\n   * @type {number}\n   */\n  this.storeId = storeId || $ecomConfig.get('store_id')\n\n  /**\n   * [Location interface]{@link https://developer.mozilla.org/en-US/docs/Web/API/Location}\n   * @name EcomRouter#location\n   * @type {object}\n   */\n  this.location = location\n\n  this.map = function () {\n    return map(self, arguments)\n  }\n\n  this.resolve = function () {\n    return resolve(self, arguments)\n  }\n\n  this.list = function () {\n    return list(self, arguments)\n  }\n\n  this.setupStore = function () {\n    return setupStore(self, arguments)\n  }\n}\n\n/**\n * Construct a new storefront router object.\n * @class EcomRouter\n * @param {number} [storeId=_config.get('store_id')] - Preset Store ID number\n * @param {object} [location=window.location] -\n * [Location interface]{@link https://developer.mozilla.org/en-US/docs/Web/API/Location}\n *\n * @example\n\nconst router = new EcomRouter()\n\n *\n * @example\n\n// Defining Store ID and using custom location interface\nconst storeId = 2000\nconst router = new EcomRouter(storeId, DOM.location)\n// P.S.: You may want to use custom location when using jsdom on Node.js for example\n\n */\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"product\"},[_c('a-alert',{attrs:{\"can-show\":_vm.hasLoadError,\"variant\":\"danger\"}},[_vm._v(\" \"+_vm._s(_vm.i19loadProductErrorMsg)+\" \"),_c('a',{staticClass:\"alert-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.fetchProduct($event)}}},[_vm._v(\" \"+_vm._s(_vm.i19retry)+\" \")])]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn slower\"}},[(_vm.body._id)?_c('div',{staticClass:\"row\"},[_vm._t(\"gallery-col\",[_c('div',{staticClass:\"col-12 col-md-6\"},[_c(_vm.isSSR ? 'portal' : 'div',{tag:\"component\",attrs:{\"selector\":\"#product-gallery\"}},[_c('product-gallery',{attrs:{\"product\":_vm.body,\"current-slide\":_vm.currentGalleyImg,\"is-s-s-r\":_vm.isSSR},on:{\"update:currentSlide\":function($event){_vm.currentGalleyImg=$event},\"update:current-slide\":function($event){_vm.currentGalleyImg=$event}}},[_vm._t(\"first-picture\")],2),_vm._t(\"gallery-footer\")],2)],1)]),_c('div',{staticClass:\"col\"},[(!_vm.isSSR)?_vm._t(\"heading\",[_c(_vm.headingTag,{tag:\"component\",staticClass:\"product__name\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")])]):_vm._e(),_c(_vm.isSSR ? 'portal' : 'div',{tag:\"component\",attrs:{\"selector\":\"#product-actions\"}},[_vm._t(\"rating\",[_vm._m(0)]),(!_vm.body.available)?_vm._t(\"unavailable\",[_c('p',{staticClass:\"product__unavailable\"},[_vm._v(\" \"+_vm._s(_vm.i19unavailable)+\" \")])]):(!_vm.isInStock)?_vm._t(\"out-of-stock\",[_c('p',{staticClass:\"product__out-of-stock\"},[_vm._v(\" \"+_vm._s(_vm.i19outOfStock)+\" \")])]):[_vm._t(\"prices\",[_c('p',{staticClass:\"product__prices\"},[_c('a-prices',{attrs:{\"product\":Object.assign({}, _vm.body, _vm.selectedVariation),\"is-literal\":true,\"is-big\":true},on:{\"fix-price\":function (price) { return _vm.fixedPrice = price; }}}),_vm._t(\"discount-tag\",[(_vm.discount > 0)?_c('span',{staticClass:\"product__discount\"},[_vm._v(\" \"+_vm._s(_vm.i19discountOf)+\" \"),_c('strong',[_vm._v(_vm._s(_vm.discount)+\"%\")])]):_vm._e()],null,{ discount: _vm.discount })],2)]),(_vm.hasVariations)?_vm._t(\"variations\",[_c('product-variations',{attrs:{\"product\":_vm.body,\"selectedId\":_vm.selectedVariationId},on:{\"update:selectedId\":function($event){_vm.selectedVariationId=$event},\"update:selected-id\":function($event){_vm.selectedVariationId=$event}}}),_c('a-alert',{attrs:{\"can-show\":_vm.hasClickedBuy && !_vm.selectedVariationId}},[_vm._v(\" \"+_vm._s(_vm.i19selectVariationMsg)+\" \")]),_vm._t(\"variations-info\")]):_vm._e(),(_vm.body.customizations)?_vm._t(\"customizations\",_vm._l((_vm.body.customizations),function(custom){return (custom.custom_value)?_c('div',{key:custom._id,staticClass:\"product__customization form-group\",class:custom.grid_id ? (\"product__customization--\" + (custom.grid_id)) : null},[_c('label',{attrs:{\"for\":(\"c-\" + (custom._id))}},[_vm._v(\" \"+_vm._s(custom.label)+\" \"),(custom.add_to_price)?_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\" \"+_vm._s(_vm.formatAdditionalPrice(custom.add_to_price))+\" \")]):_vm._e()]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":(\"c-\" + (custom._id))},on:{\"change\":function (ev) { return _vm.setCustomizationOption(custom, ev.target.value); }}})]):_vm._e()})):_vm._e(),(_vm.isKit)?_c('div',{staticClass:\"product__kit\"},[_c('label',{staticClass:\"kit__title\"},[_vm._v(\"Selecione os itens do kit\")]),_vm._t(\"kit\",[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInUp\"}},[(_vm.kitItems.length)?_c('quantity-selector',{attrs:{\"items\":_vm.kitItems,\"min\":_vm.body.min_quantity,\"max\":_vm.body.quantity,\"slug\":_vm.body.slug,\"kit-product-id\":_vm.body._id,\"kit-name\":_vm.name,\"kit-price\":_vm.fixedPrice},scopedSlots:_vm._u([{key:\"buy-button-content\",fn:function(){return [_vm._t(\"buy-button-content\")]},proxy:true}],null,true)}):_vm._e()],1),(!_vm.kitItems.length)?_c('span',{staticClass:\"product__kit-loading spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()],null,{ kitItems: _vm.kitItems })],2):[_c('div',{staticClass:\"product__buy\"},[_c('span',{on:{\"click\":_vm.buy}},[_vm._t(\"buy\",[_c('button',{staticClass:\"btn btn-lg btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.hasClickedBuy && !_vm.isOnCart}},[_vm._t(\"buy-button-content\",[_vm._v(\" \"+_vm._s(_vm.strBuy)+\" \")])],2)],null,{ hasClickedBuy: _vm.hasClickedBuy, isOnCart: _vm.isOnCart })],2)]),(_vm.isLowQuantity)?_c('p',{staticClass:\"product__short-stock\"},[_c('i',{staticClass:\"fas fa-forward mr-1\"}),_vm._v(\" \"+_vm._s(_vm.i19only)+\" \"),_c('strong',[_vm._v(_vm._s(_vm.productQuantity))]),_vm._v(\" \"+_vm._s(_vm.i19unitsInStock)+\" \")]):_vm._e()],(_vm.body.production_time && _vm.body.production_time.days)?_c('p',{staticClass:\"product__production\"},[_c('i',{staticClass:\"fas fa-info-circle mr-1\"}),_vm._v(\" \"+_vm._s(_vm.i19productionDeadline)+\": \"),_c('strong',[_vm._v(\" \"+_vm._s(_vm.body.production_time.days)+\" \"+_vm._s(_vm.body.production_time.working_days ? _vm.i19workingDays : _vm.i19days)+\" \"),(_vm.body.production_time.cumulative)?[_vm._v(\" \"+_vm._s(_vm.i19perUnit)+\" \")]:_vm._e()],2)]):_vm._e(),(!_vm.isQuickview)?_vm._t(\"shipping\",[_c('shipping-calculator',{attrs:{\"shippedItems\":[Object.assign({}, _vm.body,\n                  {product_id: _vm.body._id,\n                  quantity: _vm.body.min_quantity || 1})]},scopedSlots:_vm._u([{key:\"free-from-value\",fn:function(ref){\n                var amountSubtotal = ref.amountSubtotal;\n                var freeFromValue = ref.freeFromValue;\nreturn [_c('div',{staticClass:\"product__free-shipping-from\"},[_vm._v(\" \"+_vm._s(_vm.i19freeShippingFrom)+\" \"),_c('strong',[_vm._v(\" \"+_vm._s(Math.ceil(freeFromValue / amountSubtotal))+\" \"+_vm._s(_vm.i19units)+\" \")])])]}}],null,false,3999804120)})]):_vm._e(),_vm._t(\"track-price\",[_vm._m(1)])]],2),(!_vm.isSSR && _vm.body.short_description)?_vm._t(\"short-description\",[_c('p',{staticClass:\"product__info lead\"},[_vm._v(\" \"+_vm._s(_vm.body.short_description)+\" \")])]):_vm._e()],2)],2):_vm._e()]),(!_vm.body._id)?_vm._t(\"default\"):_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product__rating\",attrs:{\"data-sku\":_vm.body.sku}})},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product__track-price\",attrs:{\"data-sku\":_vm.body.sku}})}]\n\nexport { render, staticRenderFns }","import { i18n } from '@ecomplus/utils'\nimport EcomRouter from '@ecomplus/storefront-router'\nimport { $ } from '@ecomplus/storefront-twbs'\nimport Vue from 'vue'\nimport TheProduct from '#components/TheProduct.vue'\nimport SearchEngine from '#components/SearchEngine.vue'\n\nconst $fallback404 = $('#fallback-404')\nif ($fallback404.length) {\n  const urlParams = new URLSearchParams(window.location.search)\n  const url = urlParams.get('url')\n  if (url) {\n    const router = new EcomRouter()\n    $fallback404.html('<div class=\"spinner-border\" role=\"status\"></div>')\n\n    const renderNotFound = () => {\n      $fallback404.html($('<h3>', {\n        class: 'my-4',\n        html: [\n          '<i class=\"text-muted fas fa-exclamation-triangle mr-3\"></i>',\n          i18n({\n            pt_br: 'Página não encontrada',\n            en_us: 'Page not found'\n          })\n        ]\n      }))\n\n      router.list()\n        .then(routes => {\n          $fallback404.append([\n            $('<p>', {\n              class: 'lead',\n              html: i18n({\n                pt_br: 'Mapa do site:',\n                en_us: 'Sitemap:'\n              })\n            }),\n            $('<ul>', {\n              html: routes.map(({ path }) => {\n                return `<li><a href=\"${path}\">${path}</a></li>`\n              })\n            })\n          ])\n        })\n        .catch(console.error)\n    }\n\n    router.map(url)\n      .then(route => {\n        const { resource, _id } = route\n        switch (resource) {\n          case 'products':\n            return new Vue({\n              render: h => h(TheProduct, {\n                props: {\n                  productId: _id\n                }\n              })\n            })\n\n          case 'brands':\n          case 'categories':\n            return router.resolve(route)\n              .then(({ body }) => {\n                return new Vue({\n                  render: h => h(SearchEngine, {\n                    props: {\n                      [resource]: [body.name]\n                    }\n                  })\n                })\n              })\n        }\n      })\n\n      .then(vueInstance => {\n        if (vueInstance) {\n          vueInstance.$mount($fallback404[0])\n        } else {\n          renderNotFound()\n        }\n      })\n\n      .catch(err => {\n        console.error(err)\n        renderNotFound()\n      })\n  }\n}\n"],"sourceRoot":""}